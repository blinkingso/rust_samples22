此时，我们可以考虑一下search函数的实现是否还存在有待重构的余地。
在重构的过程中只要始终确保测试通过，就可以保证功能不会受到影响。
search函数中的代码看上去还不算太坏，但它还没有用到迭代器的一些实用功能。
我们会在第13章更深入地讨论迭代器时再来看这段示例，并研究一下如何改进这段代码。
在run函数中调用search函数search函数经过测试可以正常运行了，现在让我们来调用它。
我们需要向search函数中传入config.query的值，以及run函数从文件中读取的contents文本。
接着，run函数还会打印出search函数返回的每一行内容